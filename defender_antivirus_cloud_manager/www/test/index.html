<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />

    <!-- ✅ Load CSS file for DataTables  -->
    <link rel="stylesheet" href="/assets/defender_antivirus_cloud_manager/www/css/jquery.dataTables.min.css" />
    

    <!-- ✅ load jQuery ✅ -->
    <script src="/assets/defender_antivirus_cloud_manager/www/js/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>


    <!-- ✅ load DataTables ✅ -->
    <script src="/assets/defender_antivirus_cloud_manager/www/js/jquery.dataTables.min.js"></script>

   


        <!--  ✅ FullStory  ✅ -->
        <link rel="shortcut icon"href="/assets/erpnext/images/erpnext-favicon.svg" type="image/x-icon">

        <!--  ✅ Frappe Resources  ✅ -->
        <link rel="icon" href="/assets/erpnext/images/erpnext-favicon.svg" type="image/x-icon">
        <link type="text/css" rel="stylesheet" href="/assets/css/erpnext.css?ver=1650788325.0">

        <link rel="stylesheet" href="/assets/defender_antivirus_cloud_manager/www/bootstrap-4.2.1/css/bootstrap.min.css">
        <script>
            window.frappe = {};
            frappe.ready_events = [];
            frappe.ready = function(fn) {
                frappe.ready_events.push(fn);
            }
            window.dev_server = 0;
            window.socketio_port = 9000;
            window.show_language_picker = 0;
        </script>
    
    
        <!--Frappe Resources-->

  
</head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
    .Row {
        display: table;
        width: 100%;
        table-layout: fixed;
        border-spacing: 8px;
    }

    .card {
        display: table-cell;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        width: 210%;
        height: 140px;

    }

    .card1 {
        display: table-cell;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        width: 210%;
        height: 200px;

    }

    .card:hover {
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    }

    .container {
        padding: 2px 16px;
    }

    #bt {
        border-radius: 7px;
        /* background: #8fe2ff; */
        border-color: #5fe5f566;
        float: right;
        cursor: pointer;
    }

    #updatebt {
        border-radius: 7px;
        /* background: #8fe2ff; */
        border-color: #5fe5f566;
        float: right;
        cursor: pointer;
    }
    #deletebt {
        border-radius: 7px;
        /* background: #8fe2ff; */
        border-color: #5fe5f566;
        float: right;
        cursor: pointer;
    }


    body {
        font-family: Arial;
    }


    .tab {
        overflow: hidden;
    }

    .tab button {
        background-color: inherit;
        float: left;
        border: none;
        outline: none;
        cursor: pointer;
        padding: 14px 16px;
        transition: 0.3s;
        font-size: 17px;
    }

    /* Change background color of buttons on hover */
    .tab button:hover {}

    /* Create an active/current tablink class */
    .tab button.active {
        text-decoration: underline;
        color: #009bfff7;
    }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border-top: none;
    }
    .host_details {
      background-color: #cacaca40;
      max-width: 1009px !important;

      margin-top: 1%;
      padding-bottom: 1%;
    }

    .inner_host_details {

      max-width: 1000px !important;

      margin: 1%;
      background-color: none;


    }

    .row_box_one {
      display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    }

    .div1 {

      background-color: #ffffffeb;
      width: 32.3%;
      height: 80px;
      border-radius: 6px;
      margin-top: 1.3%; 
  }

   
  .div2 {

    background-color: #ffffffeb;
    width: 66.3%;
    height: 80px;
    border-radius: 6px;
    margin-top: 1.3%;
}

.div_p {
 
    padding-top: 6%;
    padding-left: 6%;
  
}


    
</style>

<body frappe-session-status="logged-in" data-path="index" class="bp-nouveau archive post-type-archive post-type-archive-sfwd-courses tribe-js buddyboss-theme sticky-header bb-tribe-events-views-v2 bp-search elementor-default elementor-kit-20002 tribe-theme-buddyboss-theme learndash-cpt learndash-cpt-sfwd-courses learndash-template-ld30 learndash-embed-responsive learndash-theme js bb-page-loaded">
    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'Dashboards')" id="defaultOpen">Dashboards</button>
        <button class="tablinks" onclick="openCity(event, 'Clients')">Clients</button>
        <button class="tablinks" onclick="openCity(event, 'Users')">Users</button>
        <button class="tablinks" onclick="openCity(event, 'Logs')">Logs</button>
        <button class="tablinks" onclick="show()" style="float:right;color: #085281;"><i class="fa fa-file-excel-o"
                aria-hidden="true" style="    color: #0a88d885;
margin-right: 2px;"></i>Export to excel file</button>

    </div>

    <div class="box" style="background:#aeaef229; width 100%; height:300px">
        <div id="Dashboards" class="tabcontent">
            <h3>Dashboards</h3>
            <p>Dashboards is the capital city of England.</p>
        </div>


        <div id="Clients" class="tabcontent">
            <div class="clients_bar" style="display: flex;
        justify-content: space-between;">
                <div class="left">
        
                    <input class="form-control" id="exampleDataList" placeholder="Type to search..." style=" display:none;    background: white;
                        width: 400%;
                        margin-top: 5px;
                        margin-bottom: 5px;">
                </div>
        
                <div class="right" style="display:flex;     display: flex; justify-content: flex-end;">
                  
                    <button type="button" id="add_to_client" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal"  style=" background: #0e85af;     margin-right: 10px;">Add
                        client</button>
                    <button type="button" class="btn btn-outline-info"
                        style="color:black;    margin-right: 10px;">Import</button>
                    <button type="button" class="btn btn-danger" style="    margin-right: 10px;">Delete all</button>
                    <button type="button" class="btn btn-outline-info"><i class="fa fa-refresh" aria-hidden="true"
                            style="margin-right:4px;"></i>Refresh</button>
                </div>
        
            </div>
            <h3></h3>
            <h3>Total Clients </h3>
            {% for a in r %}

            <p>AC Record
                {{a.message}}
            </p>

            {% endfor %}


            {% set clients = frappe.db.sql(""" select client_uuid,comments,host_name,name from `tabClients Details` """) %}
            <table id="example" class="display" style="width: 100%">
                <thead>
                    <tr style="display:none;">
                        <th>Name</th>
                        <th>Position</th>
                        <th>Office</th>
                    </tr>
                </thead>

                <tbody>

                    

                    {% for c in clients %}
                    <tr>
                        <td>UUID  {{c[0]}}<button id="updatebt"  onclick="updateRecord(`{{c[0]}}`, `{{c[1]}}`, `{{c[2]}}`, `{{c[3]}}`)" data-toggle="modal" data-target="#updateexampleModal"><i class="fa fa-pencil" aria-hidden="true"></i> </button> 
                             <button  id="deletebt" onclick="delRecord(`{{c[3]}}`)" data-toggle="modal" data-target="#deleteexampleModal"><i class="fa fa-trash" aria-hidden="true"></i></button>
                        </td>
                        <td> {{c[1]}} <button id="updatebt" onclick="updateRecord(`{{c[0]}}`, `{{c[1]}}`, `{{c[2]}}`, `{{c[3]}}`)" data-toggle="modal" data-target="#updateexampleModal"><i class="fa fa-pencil" aria-hidden="true"></i> </button> 
                            <button  id="deletebt"  onclick="delRecord(`{{c[3]}}`)" data-toggle="modal" data-target="#deleteexampleModal"><i class="fa fa-trash" aria-hidden="true"></i></button></td>
                        <td>{{c[2]}} 
                          <button id="bt" type="button"  data-toggle="modal" data-target=".bd-example-modal-lg"><i class="fa fa-refresh" aria-hidden="true"></i></button> 
                        </td>
                    </tr>
                    {% endfor %}
                
                </tbody>
                <tfoot style="display:none;">
                    <tr>
                        <th>Name</th>
                        <th>Position</th>
                        <th>Office</th>
                    </tr>
                </tfoot>
            </table>


            <!--HOST Details Large Modal-->


            <div class="modal fade bd-example-modal-lg" id="hostModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-lg" style="max-width: 1100px !important ">
                <div class="modal-content">
                  <div class="host" style="padding: 3%;">

                      <input type="text" class="host_input" style="width: 15%;color:#57beff" value="Host detail">
                      <input type="text" class="host_input" style="width: 36%;" value="UUID:">
                      <input type="text" class="host_input" style="width: 13%;">
                      <input type="text" class="host_input"style="width: 10%;" value="240 min"><button id="edit_host" style="z-index: 2;margin-left: -2.8%;
                      border:none; background:none;">
                        <i class="fa fa-pencil" aria-hidden="true"></i></button>
                      <button style=" background: no-repeat;border-color: #0985ff8c;border-radius: 6px;color: #0898d3; cursor:pointer">Perform Full Scan</button>
                      <button style="width: 8%; width: 8%; background: no-repeat;border-color: #0985ff8c;border-radius: 6px;color: #0898d3; cursor:pointer">Back</button>

                      <div class="host_details">
                        <div class="inner_host_details">
                          <h1 style="font-size: 16px;font-weight: bold; padding-top: 10px;">Defender Anti-Virus</h1>

                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">Anti-malware: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Anti-spyware: <b style="color:rgb(21, 192, 21)">Enabled</b></p>

                                </div>
                                <div class="div1">
                                  <p class="div_p">Anti-virus: <b style="color:rgb(21, 192, 21)">Enabled</b></p>

                                </div>
                              </div>

                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">Behaviour Monitor: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Tamper Protection: <b style="color:rgb(218, 14, 14)">Disabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Office Antivirus: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                              </div>

                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">Network Inspection System: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">On-Access Protection: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Real-time Protection: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                              </div>

                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div2">
                                  <p class="div_d" style="padding: 4%;">Threat Fount: <b style="color:rgb(214, 12, 12)">5</b></p>
                                </div>
                                <div class="div1" style="background-color: rgb(23, 98, 130); padding:3%; color:white"> See list of found threats</div>
                              </div>

                              <h1 style="font-size: 16px;font-weight: bold; padding-top: 10px;">Firewall Protection</h1>
    
                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">Domain: <b style="color:rgb(21, 192, 21)">Enabled</b></p>

                                </div>
                                <div class="div1">
                                  <p class="div_p">Public: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Private: <b style="color:rgb(218, 14, 14)">Disabled</b></p>

                                </div>
                              </div>


                              <h1 style="font-size: 16px;font-weight: bold; padding-top: 10px;">Update</h1>
    
                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">Agent version: <b style="color:rgb(21, 192, 21)">Enabled</b></p>
                                </div>
                                <div class="div1">
                                  <p class="div_p">Signature update: <b style="color:rgb(192, 61, 21)">Out-of-date</b></p>

                                </div>
                                <div class="div1">
                                  <p class="div_p">Last update: <b style="color:rgb(29, 39, 29)">Enabled</b></p>

                                </div>
                              </div>



                              <h1 style="font-size: 16px;font-weight: bold; padding-top: 10px;">System</h1>
    
                              <div class="row_box_one" style="display: flex; flex-wrap: wrap;">
                                <div class="div1">
                                  <p class="div_p">OS: <b style="color:rgb(29, 39, 29)"></b></p>

                                </div>
                                <div class="div1">
                                  <p class="div_p">OS version: <b style="color:rgb(29, 39, 29)"></b></p>

                                </div>
                                <div class="div1">
                                  <p class="div_p">Manufacturer: <b style="color:rgb(29, 39, 29)"></b></p>

                                </div>


                                <div class="div1">
                                  <p class="div_p">Model: <b style="color:rgb(29, 39, 29)"></b></p>

                                </div>
                                <div class="div1"></div>
                                <div class="div1"></div>
                              </div>

                        </div>

                      </div>
                    
                  </div>
                </div>
              </div>
            </div>

            <!--Host Detals END-->
         
            
            <!-- Modal -->
            
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content" style="    border-radius: 21px !important;">
                  <div class="modal-header" style="border-bottom: none !important; padding-top: 0px !important;">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: -4px !important;">
                      <span aria-hidden="true">&times;</span>
                    </button>

                  </div>
                  <div class="modal-body">
                    <form>
                      <div class="form-group">
                        <label for="recipient-name" class="col-form-label">UUID:</label>
                        <input type="text" class="form-control" id="uuid">
                        <span id="uuid_error"></span>
                      </div>
                      <div class="form-group">
                        <label for="comment" class="col-form-label">Comment:</label>
                        <input type="text" class="form-control" id="comment">
                        <span id="comment_error"></span>
                      </div>

                      <div class="form-group">
                        <label for="hostname" class="col-form-label">Hostname:</label>
                        <input type="text" class="form-control" id="hostname" readonly>
                      </div>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" style="color: #fff;background-color: #b23cfd;" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" id="add-user">Send message</button>
                  </div>
                </div>
              </div>
            </div>

    
            <!-- Your JS code here  -->

            <!--Update UUID and Comments-->

            <div class="modal fade" id="updateexampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content" style="    border-radius: 21px !important;">
                    <div class="modal-header" style="border-bottom: none !important; padding-top: 0px !important;">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: -4px !important;">
                        <span aria-hidden="true">&times;</span>
                      </button>
  
                    </div>
                  
                    <div class="updateform">
                      <input type="text" class="ac" id="updateuuid1">
                      <input type="text" class="ac"  id="updatecomment1" >
                      <input type="text" class="ac"  id="updatehostname1" readonly>

                      <input type="text" class="ac"  id="updatename1" readonly>

                    </div>
                   
                    <div class="modal-footer">
                      <button type="button" style="color: #fff;background-color: #b23cfd;" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary" id="update-user">Update</button>
                    </div>
                  </div>
                </div>
              </div>

              <style>
                .updateform {
                  padding:3%;
                }
                .ac {
                  width: 100%;
                  border-color: #d4d3d16b;
                  height: 38px;
                  border-radius: 6px;
                  margin-bottom: 16px;
                }
              </style>

            <!--End Update uuid and comments-->

              <!--Delete UUID and Comments-->

              <div class="modal fade" id="deleteexampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content" style="border-radius: 21px !important;">
                    <div class="modal-header" style="border-bottom: none !important; padding-top: 0px !important;">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin-top: -4px !important;">
                        <span aria-hidden="true">&times;</span>
                      </button>
  
                    </div>
                    <h5 style="color: #083fd5; margin-left:5% !important;">Delete Record</h5>

                    <p style="margin-left:5% !important;">Are you sure you want to delete!!</p>
                    <div class="form-group" style="display: none;">
                      <label for="userid" class="col-form-label">UUID:</label>
                      <input type="text" class="form-control" id="userid" readonly>
                    </div>
                    
                    <div class="modal-footer">
                      <button type="button" style="color: #fff;background-color: #b23cfd;" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" id="delete-one-record" class="btn btn-danger" id="delete-user">Confirm</button>
                    </div>
                  </div>
                </div>
              </div>

            <!--End Delte uuid and comments-->

        </div>

        <div id="Users" class="tabcontent">
            <h3>Users</h3>
            <p>Users is the capital of Japan.</p>
        </div>

        <div id="Logs" class="tabcontent">
            <h3>Logs</h3>
            <p>Logs is the capital of Japan.</p>
        </div>
    </div>



    <script>


        function show() {
            alert("Data Exported")
        }
        function openCity(evt, cityName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";
            $('#example').DataTable();
            $(document).ready(function () {
                $('#example').DataTable();
                console.log("I am Calll")
            });


        }


        // Get the element with id="defaultOpen" and click on it
        document.getElementById("defaultOpen").click();


        $('#exampleModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever')
            var modal = $(this)
            modal.find('.modal-title').text('New message to ' + recipient)
            modal.find('.modal-body input').val(recipient)
          })

          $('#updateexampleModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever')
            var modal = $(this)
            modal.find('.modal-title').text('New message to ' + recipient)
            modal.find('.modal-body input').val(recipient)
          })


          $('#deleteexampleModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever')
            var modal = $(this)
            modal.find('.modal-title').text('New message to ' + recipient)
            modal.find('.modal-body input').val(recipient)
          })

          $('#hostModal').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever')
            var modal = $(this)
            modal.find('.modal-title').text('New message to ' + recipient)
            modal.find('.modal-body input').val(recipient)
          })

          function addUser() {
              alert("Data Saved Successfully!!")
          }

    </script>

    <script src="/assets/defender_antivirus_cloud_manager/www/bootstrap-4.2.1/js/bootstrap.bundle.min.js"></script>

    <hr>


    <script type="text/javascript" src="/assets/js/libs.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/desk.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/list.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/form.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/control.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/report.min.js?ver=1634032939.0"></script>
    <script type="text/javascript" src="/assets/js/erpnext.min.js?ver=1634032939.0"></script>



    <script>
        frappe.csrf_token = "{{frappe.session.csrf_token}}";
    </script>

        {% block script %}
        <script src="/assets/defender_antivirus_cloud_manager/www/js/test/index.js"></script>
        {% endblock %}


</body>

</html>